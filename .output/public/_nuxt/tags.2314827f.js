import{a as U,A as p,_ as j}from"./Dialog.bc954534.js";import{u as V,g as S,h as y,B as I,z as A,d as L,o as g,p as b,x as z,a as e,C as F,t as q,r as T,c as h,i as s,F as v,n as x,j as k,k as _,v as O,D as w,q as R,y as Y,E as Z}from"./entry.c80b1f3f.js";const M="competence-tags",C=()=>{const a=V(S(y(),M)),t=[];return a.value.forEach(i=>{t.push({...i})}),J(t)},G=a=>{I(A(y(),"competence-tags",a.value))},H=()=>{const a=V(S(y(),M)),t=[];return a.value.forEach(n=>{t.push({...n})}),t},J=a=>{let t={aspect:"frontend"};const n=a==null?void 0:a.filter(function(l){for(let o in t)if(l[o]===void 0||l[o]!=t[o])return!1;return!0});t.aspect="backend";const i=a==null?void 0:a.filter(function(l){for(let o in t)if(l[o]===void 0||l[o]!=t[o])return!1;return!0});t.aspect="fullstack";const m=a==null?void 0:a.filter(function(l){for(let o in t)if(l[o]===void 0||l[o]!=t[o])return!1;return!0});t.aspect="embedded";const d=a==null?void 0:a.filter(function(l){for(let o in t)if(l[o]===void 0||l[o]!=t[o])return!1;return!0});return{fullstack:m,frontend:n,backend:i,embedded:d}},K={class:"relative w-full max-h-full"},P={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},Q=["onClick"],W=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),X=e("span",{class:"sr-only"},"Close modal",-1),ee=[W,X],te={class:"p-6 text-center"},se=e("svg",{class:"mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1),oe={class:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400"},ae=["onClick"],ne=["onClick"],le=L({__name:"ConfirmDialog",props:{tag:{}},emits:["updateTagsList"],setup(a,{emit:t}){const n=d=>{d.target.id==="confirmDialog"&&i()},i=d=>{const l=document.getElementById("confirmDialog");l.removeEventListener("click",n),l.removeEventListener("cancel",n),l.close()},m=d=>{console.log("delete tag hmm",d),G(d),t("updateTagsList"),i()};return(d,l)=>{const o=U;return g(),b(o,{id:"confirmDialog"},{default:z(()=>[e("div",K,[e("div",P,[e("button",{type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"popup-modal",onClick:()=>i()},ee,8,Q),e("div",te,[se,e("h3",oe,[F(" Are you sure you want to delete the tag "),e("u",null,q(d.tag.value),1),F("? ")]),e("button",{onClick:()=>m(d.tag),"data-modal-hide":"popup-modal",type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2"}," Yes, I'm sure ",8,ae),e("button",{onClick:()=>i(),"data-modal-hide":"popup-modal",type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," No, cancel ",8,ne)])])])]),_:1})}}}),re={class:"text-gray-700"},de=e("h2",{class:"text-2xl mb-6"},"Available tech-tags",-1),ce={class:"flex flex-row"},ie={class:"rounded basis-1/4 shadow-lg bg-white p-3 mr-3"},ue=e("h2",{class:"text-xl mb-3"},"Frontend",-1),ge={class:"flex flex-wrap max-w-[80%]"},pe={class:"rounded basis-1/4 shadow-lg bg-white p-3 mx-3"},fe=e("h2",{class:"text-xl mb-3"},"Backend",-1),me={class:"flex flex-wrap max-w-[80%]"},he={class:"rounded basis-1/4 shadow-lg bg-white p-3 mx-3"},_e=e("h2",{class:"text-xl mb-3"},"Fullstack",-1),be={class:"flex flex-wrap max-w-[80%]"},ve={class:"rounded basis-1/4 shadow-lg bg-white p-3 ml-3"},xe=e("h2",{class:"text-xl mb-3"},"Embedded",-1),ke={class:"flex flex-wrap max-w-[80%]"},we={class:"col-span-1 max-w-md"},ye=e("label",{class:"uppercase tracking-wider text-xs font-bold text-gray-700",for:"techtag-value"}," Tech tag ",-1),Te={class:"col-span-1 max-w-lg"},Ce=e("label",{class:"uppercase tracking-wider text-xs font-bold text-gray-700"},"Aspect",-1),De={class:"appearance-none w-full text-gray-700 rounded py-3 px-2 leading-tight transition focus:outline-none focus:bg-white focus:border-gray-500"},$e=["value"],Be=e("label",{class:"mr-8",for:"backend"},"Backend",-1),Ee=["value"],Fe=e("label",{class:"mr-8",for:"frontend"},"Frontend",-1),Ve=["value"],Se=e("label",{class:"mr-8",for:"fullstack"},"Fullstack",-1),Ae=["value"],Le=e("label",{class:"mr-8",for:"embedded"},"Embedded",-1),Me={class:"col-span-1 flex justify-center items-center mt-4 max-w-xs"},Ne=["disabled"],Ie=L({__name:"tags",setup(a){let t=T({value:"",aspect:""}),n=T(C()),i=T({value:"",aspect:""});const m=c=>H().map(f=>f.value).includes(c),d=()=>{if(console.log("tag",t),m(t.value.value))throw Z({statusCode:403,statusMessage:"Cant add duplicate tech tags"});{let c="";switch(t.value.aspect){case p.Fullstack:{c="fullstack";break}case p.Frontend:{c="frontend";break}case p.Backend:{c="backend";break}case p.Embedded:{c="embedded";break}}(t.value.value!=""||c!="")&&Y(A(y(),"competence-tags",t.value.value),{aspect:c,value:t.value.value}).then(()=>{n.value=C()})}},l=()=>{setTimeout(()=>{n.value=C()},1e3)},o=c=>{console.log("set selectedTag",c),i.value=c};return(c,u)=>{var D,$,B,E;const f=j,N=le;return g(),h("div",re,[de,e("div",ce,[e("div",ie,[ue,e("div",ge,[((D=s(n).frontend)==null?void 0:D.length)>0?(g(!0),h(v,{key:0},x(s(n).frontend,r=>(g(),b(f,{edit:!0,tag:r,onSetSelectedTag:o},null,8,["tag"]))),256)):k("",!0)])]),e("div",pe,[fe,e("div",me,[(($=s(n).backend)==null?void 0:$.length)>0?(g(!0),h(v,{key:0},x(s(n).backend,r=>(g(),b(f,{edit:!0,tag:r,onSetSelectedTag:o},null,8,["tag"]))),256)):k("",!0)])]),e("div",he,[_e,e("div",be,[((B=s(n).fullstack)==null?void 0:B.length)>0?(g(!0),h(v,{key:0},x(s(n).fullstack,r=>(g(),b(f,{edit:!0,tag:r,onSetSelectedTag:o},null,8,["tag"]))),256)):k("",!0)])]),e("div",ve,[xe,e("div",ke,[((E=s(n).embedded)==null?void 0:E.length)>0?(g(!0),h(v,{key:0},x(s(n).embedded,r=>(g(),b(f,{edit:!0,tag:r,onSetSelectedTag:o},null,8,["tag"]))),256)):k("",!0)])])]),e("form",{class:"grid grid-cols-1 gap-4 mt-9",onSubmit:d},[e("div",we,[ye,_(e("input",{"onUpdate:modelValue":u[0]||(u[0]=r=>s(t).value=r),id:"techtag-value",class:"appearance-none w-full text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight transition focus:outline-none focus:bg-white focus:border-gray-500",placeholder:"New tech tag..."},null,512),[[O,s(t).value]])]),e("div",Te,[Ce,e("div",De,[_(e("input",{class:"mr-2",type:"radio",id:"backend",value:s(p).Backend,"onUpdate:modelValue":u[1]||(u[1]=r=>s(t).aspect=r)},null,8,$e),[[w,s(t).aspect]]),Be,_(e("input",{class:"mr-2",type:"radio",id:"frontend",value:s(p).Frontend,"onUpdate:modelValue":u[2]||(u[2]=r=>s(t).aspect=r)},null,8,Ee),[[w,s(t).aspect]]),Fe,_(e("input",{class:"mr-2",type:"radio",id:"fullstack",value:s(p).Fullstack,"onUpdate:modelValue":u[3]||(u[3]=r=>s(t).aspect=r)},null,8,Ve),[[w,s(t).aspect]]),Se,_(e("input",{class:"mr-2",type:"radio",id:"embedded",value:s(p).Embedded,"onUpdate:modelValue":u[4]||(u[4]=r=>s(t).aspect=r)},null,8,Ae),[[w,s(t).aspect]]),Le])])],32),R(N,{tag:s(i),onUpdateTagsList:l},null,8,["tag"]),e("div",Me,[e("button",{class:"w-full btn",onClick:d,disabled:!s(t).value||!s(t).aspect}," Add tech tag ",8,Ne)])])}}});export{Ie as default};
